import{c as b,z as f,J as w,r as y,w as F,o as M,au as k,h as C,av as W,aw as x,l as m,m as v,H as z,s as a,x as g,a4 as S,t as A,v as D,ax as E}from"./index-2v7168gr.js";const O={key:0,class:"ml-3 mb-[3px]"},T=b({__name:"Switch",props:{miniWidget:{}},setup(h){const o=f(),u=h,e=w(u).miniWidget,t=y(!0);F(()=>o.miniWidgetManagerVars(e.value.hash).configMenuOpen,n=>{n===!0&&(o.showElementPropsDrawer(e.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const V=()=>{o.editingMode||e.value.options.actionVariable&&(e.value.options.lastValue=t.value,E(e.value.options.actionVariable.name,t.value))};return M(()=>{var n,i,l,s;!u.miniWidget.options||Object.keys(u.miniWidget.options).length===0?(e.value.isCustomElement=!0,o.updateElementOptions(u.miniWidget.hash,{lastValue:void 0,layout:{align:((n=e.value.options.layout)==null?void 0:n.align)||"center",size:((i=e.value.options.layout)==null?void 0:i.size)||"medium",color:((l=e.value.options.layout)==null?void 0:l.color)||"#FFFFFF",label:((s=e.value.options.layout)==null?void 0:s.label)||""},actionVariable:void 0,toggled:!0}),t.value=!0):e.value.options.actionVariable&&(k(e.value.options.actionVariable.name,r=>{t.value=r}),t.value=e.value.options.lastValue)}),C(()=>{e.value.options.actionVariable&&(W(e.value.options.actionVariable.name),x(e.value.options.actionVariable.name))}),(n,i)=>{var l,s,r,c,p;return m(),v("div",{class:g(["flex items-center h-[30px]",((l=a(o).elementToShowOnDrawer)==null?void 0:l.hash)===a(e).hash&&a(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:i[1]||(i[1]=d=>a(o).editingMode&&a(o).showElementPropsDrawer(a(e).hash))},[z(S,{modelValue:t.value,"onUpdate:modelValue":[i[0]||(i[0]=d=>t.value=d),V],"hide-details":"",color:((s=a(e).options.layout)==null?void 0:s.color)||"#FFFFFF",size:(r=a(e).options.layout)==null?void 0:r.size,class:g({"pointer-events-none":a(o).editingMode})},null,8,["modelValue","color","size","class"]),((c=a(e).options.layout)==null?void 0:c.label)!==""?(m(),v("p",O,A((p=a(e).options.layout)==null?void 0:p.label),1)):D("",!0)],2)}}});export{T as default};
