import{c as b,z as f,J as w,r as y,w as F,o as C,au as M,h as k,av as W,aw as x,l as m,m as g,H as z,s as a,x as v,a4 as S,t as A,v as D,ax as E}from"./index-CvSTGUCx.js";const O={key:0,class:"ml-3 mb-[3px]"},T=b({__name:"Switch",props:{miniWidget:{}},setup(h){const o=f(),s=h,e=w(s).miniWidget,u=y(!0);F(()=>o.miniWidgetManagerVars(e.value.hash).configMenuOpen,i=>{i===!0&&(o.showElementPropsDrawer(e.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const V=()=>{o.editingMode||e.value.options.actionVariable&&E(e.value.options.actionVariable.name,e.value.toggled)};return C(()=>{var i,t,n,l;(!s.miniWidget.options||Object.keys(s.miniWidget.options).length===0)&&(e.value.isCustomElement=!0,e.value.toggled,o.updateElementOptions(s.miniWidget.hash,{layout:{align:((i=e.value.options.layout)==null?void 0:i.align)||"center",size:((t=e.value.options.layout)==null?void 0:t.size)||"medium",color:((n=e.value.options.layout)==null?void 0:n.color)||"#FFFFFF",label:((l=e.value.options.layout)==null?void 0:l.label)||""},actionVariable:void 0})),e.value.options.actionVariable&&M(e.value.options.actionVariable.name,r=>{u.value=r})}),k(()=>{e.value.options.actionVariable&&(W(e.value.options.actionVariable.name),x(e.value.options.actionVariable.name))}),(i,t)=>{var n,l,r,c,p;return m(),g("div",{class:v(["flex items-center h-[30px]",((n=a(o).elementToShowOnDrawer)==null?void 0:n.hash)===a(e).hash&&a(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:t[1]||(t[1]=d=>a(o).editingMode&&a(o).showElementPropsDrawer(a(e).hash))},[z(S,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=d=>u.value=d),"hide-details":"",color:((l=a(e).options.layout)==null?void 0:l.color)||"#FFFFFF",size:(r=a(e).options.layout)==null?void 0:r.size,class:v({"pointer-events-none":a(o).editingMode}),onChange:V},null,8,["modelValue","color","size","class"]),((c=a(e).options.layout)==null?void 0:c.label)!==""?(m(),g("p",O,A((p=a(e).options.layout)==null?void 0:p.label),1)):D("",!0)],2)}}});export{T as default};
