import{c as w,J as y,I as g,r as c,k,w as d,o as O,bH as V,h as _,bI as C,bJ as P,l as x,m as S,n as A,G as M,x as p,s as n,ah as D,O as m,bK as B,_ as I}from"./index-B2cQqR6w.js";const j=w({__name:"Dropdown",props:{element:{}},setup(v){const i=y(),e=g(v).element,l=c(),o=c(),f=k(()=>{var t;return((t=e.value.options.layout)==null?void 0:t.selectorOptions.map(a=>({...a})))||[]});d(()=>e.value.options,t=>{var a;(a=t.layout)!=null&&a.selectorOptions&&(o.value=t.layout.selectorOptions.find(s=>s.value===o.value))},{deep:!0,immediate:!0}),d(()=>i.editingMode,t=>{if(t){l.value=o.value,o.value=null;return}o.value=l.value});const h=t=>{var a;(a=e.value.options.actionParameter)!=null&&a.id&&B(e.value.options.actionParameter.id,t)};return O(()=>{(!e.value.options||Object.keys(e.value.options).length===0)&&i.updateElementOptions(e.value.hash,{cockpitAction:void 0,actionParameter:void 0,layout:{selectorOptions:[{name:"",value:""}],align:"start",width:200}}),e.value.options.actionParameter&&V(e.value.options.actionParameter.name,t=>{o.value=t})}),_(()=>{e.value.options.actionParameter&&(C(e.value.options.actionParameter.name),P(e.value.options.actionParameter.name))}),(t,a)=>{var s,r,u;return x(),S("div",{class:p(["flex w-full",((s=n(i).elementToShowOnDrawer)==null?void 0:s.hash)===n(e).hash&&n(i).editingMode?"bg-[#00000010] ":"border-0"]),style:m({width:"100%",justifyContent:(r=n(e).options.layout)==null?void 0:r.align})},[A("div",{style:m({width:((u=n(e).options.layout)==null?void 0:u.width)+"px"})},[M(D,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=b=>o.value=b),items:f.value,"item-title":"name","item-value":"value",theme:"dark",density:"compact",variant:"filled","hide-details":"",class:p(["text-white",{"pointer-events-none":n(i).editingMode}]),onChange:h},null,8,["modelValue","items","class"])],4)],6)}}}),J=I(j,[["__scopeId","data-v-347d8b8d"]]);export{J as default};
