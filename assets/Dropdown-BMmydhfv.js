import{c as f,J as w,I as b,r as S,k as g,w as k,o as y,bI as V,h as _,bJ as C,bK as O,l as P,m as x,n as A,G as D,x as u,s as o,ah as M,O as p,bL as B,_ as E}from"./index-mqoiqCTl.js";const I=f({__name:"Dropdown",props:{element:{}},setup(m){const n=w(),i=m,e=b(i).element,s=S(i.element.options.lastSelected||void 0),r=g(()=>{var t;return((t=e.value.options.layout)==null?void 0:t.selectorOptions.map(a=>({...a})))||[]});k(s,t=>{n.updateElementOptions(e.value.hash,{...e.value.options,lastSelected:t})});const v=t=>{var a;(a=e.value.options.actionParameter)!=null&&a.id&&B(e.value.options.actionParameter.id,t)};return y(()=>{var t;(!e.value.options||Object.keys(e.value.options).length===0)&&n.updateElementOptions(e.value.hash,{cockpitAction:void 0,actionParameter:void 0,lastSelected:{name:"",value:""},layout:{selectorOptions:[{name:"",value:""}],align:"start",width:200}}),e.value.options.actionParameter&&V(e.value.options.actionParameter.name,a=>{s.value=r.value.find(l=>l.value===a)}),((t=e.value.options.lastSelected)==null?void 0:t.name)!==""&&(s.value=e.value.options.lastSelected)}),_(()=>{e.value.options.actionParameter&&(C(e.value.options.actionParameter.name),O(e.value.options.actionParameter.name))}),(t,a)=>{var l,c,d;return P(),x("div",{class:u(["flex w-full",((l=o(n).elementToShowOnDrawer)==null?void 0:l.hash)===o(e).hash&&o(n).editingMode?"bg-[#00000010] ":"border-0"]),style:p({width:"100%",justifyContent:(c=o(e).options.layout)==null?void 0:c.align})},[A("div",{style:p({width:((d=o(e).options.layout)==null?void 0:d.width)+"px"})},[D(M,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=h=>s.value=h),items:r.value,"item-title":"name","item-value":"value",theme:"dark",density:"compact",variant:"filled","hide-details":"",class:u(["text-white",{"pointer-events-none":o(n).editingMode}]),onChange:v},null,8,["modelValue","items","class"])],4)],6)}}}),z=E(I,[["__scopeId","data-v-a88c9e73"]]);export{z as default};
