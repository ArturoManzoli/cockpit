import{c as w,z as x,ay as M,r as W,w as C,o as k,au as S,h as _,av as F,aw as O,l as b,m as V,n as z,s as a,t as D,v as E,O as T,H as A,x as g,az as B,ax as N,_ as L}from"./index-CAsom2fe.js";const P={key:0,class:"mr-3 mb-[3px]"},U=w({__name:"Slider",props:{miniWidget:{}},setup(f){const o=x(),e=M(f).miniWidget,i=W(0);C(()=>o.miniWidgetManagerVars(e.value.hash).configMenuOpen,l=>{l===!0&&(o.showElementPropsDrawer(e.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const y=()=>{o.editingMode||e.value.options.actionVariable&&(o.setMiniWidgetLastValue(e.value.hash,i.value.toFixed(1)),N(e.value.options.actionVariable.name,i.value.toFixed(1)))};return k(()=>{var l,t;(!e.value.options||Object.keys(e.value.options).length===0)&&(e.value.isCustomElement=!0,o.updateElementOptions(e.value.hash,{layout:{label:"",minValue:0,maxValue:100,showTooltip:!0,color:"#FFFFFF",labelWidth:((l=e.value.options.layout)==null?void 0:l.labelWidth)||0},variableType:"number",actionVariable:void 0})),e.value.options.actionVariable&&(S((t=e.value.options.actionVariable)==null?void 0:t.name,n=>{i.value=n}),i.value=o.getMiniWidgetLastValue(e.value.hash))}),_(()=>{e.value.options.actionVariable&&(F(e.value.options.actionVariable.name),O(e.value.options.actionVariable.name))}),(l,t)=>{var n,s,r,u,d,p,m,c,h;return b(),V("div",{class:g(["slider-container",((n=a(o).elementToShowOnDrawer)==null?void 0:n.hash)===a(e).hash&&a(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:t[1]||(t[1]=v=>a(o).editingMode&&a(o).showElementPropsDrawer(a(e).hash))},[z("div",{style:T({minWidth:((s=a(e).options.layout)==null?void 0:s.labelWidth)+"px"})},[((r=a(e).options.layout)==null?void 0:r.label)!==""?(b(),V("p",P,D((u=a(e).options.layout)==null?void 0:u.label),1)):E("",!0)],4),A(B,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=v=>i.value=v),y],min:(d=a(e).options.layout)==null?void 0:d.minValue,max:(p=a(e).options.layout)==null?void 0:p.maxValue,"thumb-label":(m=a(e).options.layout)==null?void 0:m.showTooltip,"hide-details":"",class:g(["min-w-20",{"pointer-events-none":a(o).editingMode,"scale-75":((c=a(e).options.layout)==null?void 0:c.size)==="small"}]),color:((h=a(e).options.layout)==null?void 0:h.color)||"white"},null,8,["modelValue","min","max","thumb-label","color","class"])],2)}}}),I=L(U,[["__scopeId","data-v-438c00f8"]]);export{I as default};
