import{c as D,u as E,y as O,K as N,J as U,r as d,k as b,w as y,aS as j,o as A,l as $,m as F,n as t,H as r,G,O as w,Q as p,a6 as I,a7 as h,a$ as T,N as R,x as X,v as a,U as q,W as H,F as J,_ as K}from"./index-BAIBWFUa.js";const Q=["width","height"],P={class:"flex flex-col justify-between h-auto pt-2 cursor-pointer"},Y={class:"flex justify-between w-full h-[25px] px-2"},Z={class:"pa-0 pt-2 -mr-3"},ee=["src"],te={class:"flex w-full justify-between items-center mt-4"},ae=D({__name:"RadCamManager",props:{widget:{}},setup(z){const W=E(),l=O(),x=N(),M=z,u=U(M).widget,v=d(M.widget),g=d(null),s=d(!1),C=d("right"),k=d(null),m=b(()=>`http://${W.globalAddress}/extensionv2/radcammanager/#/?cockpit_mode=true`),c=d(m.value);y(m,i=>{c.value=i});const S=()=>{s.value=!s.value,s.value?u.value.size={width:.4137286707085066,height:.041284618602176325}:u.value.size={width:.4137286707085066,height:.6589426348044561}},B=()=>{S()},f=()=>{if(g.value){const i=g.value.getBoundingClientRect(),e=window.innerWidth;i.left+i.width/2<e/2?C.value="left":C.value="right"}},L=()=>{l.allowMovingAndResizing(v.value.hash,!0),window.addEventListener("mouseup",n),window.addEventListener("dragend",n)},n=()=>{f(),l.allowMovingAndResizing(v.value.hash,!1),window.removeEventListener("mouseup",n),window.removeEventListener("dragend",n)},{width:V}=j(),_=b(()=>({width:v.value.size.width*V.value,height:v.value.size.height*V.value}));return y(()=>l.editingMode,i=>{i===!0&&(n(),s.value=!1)}),A(()=>{f(),window.addEventListener("resize",f),k.value=document.querySelector(".main"),n(),S()}),(i,e)=>(F(),$(J,null,[t("div",{ref_key:"widgetBase",ref:g,class:X(["w-full rounded-lg overflow-hidden",[s.value?"h-[50px]":"h-full"]]),width:_.value.width,height:_.value.height,style:R(a(x).globalGlassMenuStyles)},[t("div",P,[t("div",Y,[r(I,{class:"cursor-grab opacity-40",onMousedown:L,onMouseup:n},{default:w(()=>e[4]||(e[4]=[p(" mdi-drag ")])),_:1,__:[4]}),e[5]||(e[5]=t("div",null,"RadCam Manager",-1)),r(h,{icon:s.value?"mdi-chevron-down":"mdi-chevron-up",variant:"text",size:"36",class:"mt-[-6px]",onClick:B},null,8,["icon"])]),G(t("div",Z,[t("iframe",{ref:"iframe",src:c.value,frameborder:"0",class:"w-full h-[665px]"},null,8,ee)],512),[[T,!s.value]])])],14,Q),r(H,{modelValue:a(l).widgetManagerVars(a(u).hash).configMenuOpen,"onUpdate:modelValue":e[3]||(e[3]=o=>a(l).widgetManagerVars(a(u).hash).configMenuOpen=o),width:"auto"},{default:w(()=>[t("div",{class:"flex flex-col items-center p-2 pt-1 m-5 rounded-md gap-y-4 w-[40vw]",style:R(a(x).globalGlassMenuStyles)},[e[8]||(e[8]=t("p",{class:"text-xl font-semibold m-4"},"RadCam extension address",-1)),r(q,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),label:"Stream name","item-title":"name",density:"compact",variant:"outlined","no-data-text":"No streams available.","hide-details":"","return-object":"",theme:"dark",class:"w-[90%]"},null,8,["modelValue"]),t("div",te,[r(h,{class:"w-auto text-uppercase mr-4",variant:"text",onClick:e[1]||(e[1]=o=>c.value=m.value)},{default:w(()=>e[6]||(e[6]=[p(" Reset to default ")])),_:1,__:[6]}),r(h,{class:"w-auto text-uppercase",variant:"text",onClick:e[2]||(e[2]=o=>a(l).widgetManagerVars(a(u).hash).configMenuOpen=!1)},{default:w(()=>e[7]||(e[7]=[p(" Close ")])),_:1,__:[7]})])],4)]),_:1},8,["modelValue"])],64))}}),ne=K(ae,[["__scopeId","data-v-dc0ce8ee"]]);export{ne as default};
