import{c as b,z as f,J as w,r as y,w as F,o as M,au as k,h as C,av as W,aw as x,l as m,m as g,H as z,s as a,x as v,a4 as S,t as A,v as D,ax as E}from"./index-DvbKr47E.js";const O={key:0,class:"ml-3 mb-[3px]"},T=b({__name:"Switch",props:{miniWidget:{}},setup(h){const o=f(),r=h,e=w(r).miniWidget,i=y(!0);F(()=>o.miniWidgetManagerVars(e.value.hash).configMenuOpen,n=>{n===!0&&(o.showElementPropsDrawer(e.value.hash),setTimeout(()=>{o.miniWidgetManagerVars(e.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const V=()=>{o.editingMode||e.value.options.actionVariable&&E(e.value.options.actionVariable.name,i.value)};return M(()=>{var n,t,l,s;!r.miniWidget.options||Object.keys(r.miniWidget.options).length===0?(e.value.isCustomElement=!0,o.updateElementOptions(r.miniWidget.hash,{layout:{align:((n=e.value.options.layout)==null?void 0:n.align)||"center",size:((t=e.value.options.layout)==null?void 0:t.size)||"medium",color:((l=e.value.options.layout)==null?void 0:l.color)||"#FFFFFF",label:((s=e.value.options.layout)==null?void 0:s.label)||""},actionVariable:void 0,toggled:!0}),i.value=!0):e.value.options.actionVariable&&k(e.value.options.actionVariable.name,u=>{i.value=u})}),C(()=>{e.value.options.actionVariable&&(W(e.value.options.actionVariable.name),x(e.value.options.actionVariable.name))}),(n,t)=>{var l,s,u,c,p;return m(),g("div",{class:v(["flex items-center h-[30px]",((l=a(o).elementToShowOnDrawer)==null?void 0:l.hash)===a(e).hash&&a(o).editingMode?"bg-[#00000010] ":"border-0"]),onClick:t[1]||(t[1]=d=>a(o).editingMode&&a(o).showElementPropsDrawer(a(e).hash))},[z(S,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=d=>i.value=d),V],"hide-details":"",color:((s=a(e).options.layout)==null?void 0:s.color)||"#FFFFFF",size:(u=a(e).options.layout)==null?void 0:u.size,class:v({"pointer-events-none":a(o).editingMode})},null,8,["modelValue","color","size","class"]),((c=a(e).options.layout)==null?void 0:c.label)!==""?(m(),g("p",O,A((p=a(e).options.layout)==null?void 0:p.label),1)):D("",!0)],2)}}});export{T as default};
